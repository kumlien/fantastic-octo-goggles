{
  "version": 3,
  "sources": ["src/utils.ts"],
  "sourcesContent": ["import type Plugin from '@hilla/generator-typescript-core/Plugin.js';\nimport type DependencyManager from '@hilla/generator-typescript-utils/dependencies/DependencyManager.js';\nimport ts, { type ArrowFunction, type Expression, type Identifier, type PropertyDeclaration } from 'typescript';\n\nexport type Context = Readonly<{\n  owner: Plugin;\n}>;\n\nexport const defaultMediaType = 'application/json';\n\nexport function importBuiltInFormModel(specifier: string, { imports, paths }: DependencyManager): Identifier {\n  const modelPath = paths.createBareModulePath('@hilla/form', false);\n  return imports.named.getIdentifier(modelPath, specifier) ?? imports.named.add(modelPath, specifier);\n}\n\nexport function createModelBuildingCallback(name: Identifier, args: readonly Expression[]): ArrowFunction {\n  const defaults = [ts.factory.createIdentifier('parent'), ts.factory.createIdentifier('key')];\n\n  return ts.factory.createArrowFunction(\n    undefined,\n    undefined,\n    defaults.map((arg) => ts.factory.createParameterDeclaration(undefined, undefined, arg)),\n    undefined,\n    ts.factory.createToken(ts.SyntaxKind.EqualsGreaterThanToken),\n    ts.factory.createNewExpression(name, undefined, [...defaults, ...args]),\n  );\n}\n\nexport function createEmptyValueMaker(maker: Identifier, model: Identifier): PropertyDeclaration {\n  return ts.factory.createPropertyDeclaration(\n    [ts.factory.createModifier(ts.SyntaxKind.StaticKeyword), ts.factory.createModifier(ts.SyntaxKind.OverrideKeyword)],\n    'createEmptyValue',\n    undefined,\n    undefined,\n    ts.factory.createCallExpression(maker, undefined, [model]),\n  );\n}\n"],
  "mappings": "AAEA,OAAOA,MAA4F,aAM5F,MAAMC,EAAmB,mBAEzB,SAASC,EAAuBC,EAAmB,CAAE,QAAAC,EAAS,MAAAC,CAAM,EAAkC,CAC3G,MAAMC,EAAYD,EAAM,qBAAqB,cAAe,EAAK,EACjE,OAAOD,EAAQ,MAAM,cAAcE,EAAWH,CAAS,GAAKC,EAAQ,MAAM,IAAIE,EAAWH,CAAS,CACpG,CAEO,SAASI,EAA4BC,EAAkBC,EAA4C,CACxG,MAAMC,EAAW,CAACV,EAAG,QAAQ,iBAAiB,QAAQ,EAAGA,EAAG,QAAQ,iBAAiB,KAAK,CAAC,EAE3F,OAAOA,EAAG,QAAQ,oBAChB,OACA,OACAU,EAAS,IAAKC,GAAQX,EAAG,QAAQ,2BAA2B,OAAW,OAAWW,CAAG,CAAC,EACtF,OACAX,EAAG,QAAQ,YAAYA,EAAG,WAAW,sBAAsB,EAC3DA,EAAG,QAAQ,oBAAoBQ,EAAM,OAAW,CAAC,GAAGE,EAAU,GAAGD,CAAI,CAAC,CACxE,CACF,CAEO,SAASG,EAAsBC,EAAmBC,EAAwC,CAC/F,OAAOd,EAAG,QAAQ,0BAChB,CAACA,EAAG,QAAQ,eAAeA,EAAG,WAAW,aAAa,EAAGA,EAAG,QAAQ,eAAeA,EAAG,WAAW,eAAe,CAAC,EACjH,mBACA,OACA,OACAA,EAAG,QAAQ,qBAAqBa,EAAO,OAAW,CAACC,CAAK,CAAC,CAC3D,CACF",
  "names": ["ts", "defaultMediaType", "importBuiltInFormModel", "specifier", "imports", "paths", "modelPath", "createModelBuildingCallback", "name", "args", "defaults", "arg", "createEmptyValueMaker", "maker", "model"]
}
