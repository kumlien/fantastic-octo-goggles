import{convertReferenceSchemaToPath as i,convertReferenceSchemaToSpecifier as s,decomposeSchema as p,isArraySchema as f,isBooleanSchema as m,isComposedSchema as h,isIntegerSchema as S,isMapSchema as l,isNullableSchema as N,isNumberSchema as u,isReferenceSchema as T,isStringSchema as w}from"@hilla/generator-typescript-core/Schema.js";import o from"typescript";function K(){return o.factory.createKeywordTypeNode(o.SyntaxKind.BooleanKeyword)}function g(){return o.factory.createKeywordTypeNode(o.SyntaxKind.NumberKeyword)}function R(){return o.factory.createKeywordTypeNode(o.SyntaxKind.StringKeyword)}function x(){return o.factory.createKeywordTypeNode(o.SyntaxKind.UndefinedKeyword)}function M(){return o.factory.createKeywordTypeNode(o.SyntaxKind.UnknownKeyword)}function b(n){if(h(n)){const[e]=p(n);return e}return n}class t{#e;#r;constructor(e,r){this.#r=e,this.#e=r}process(){let e;const r=b(this.#r);return T(r)?e=this.#n(r):f(r)?e=this.#o(r):l(r)?e=this.#t(r):m(r)?e=K():S(r)||u(r)?e=g():w(r)?e=R():e=M(),N(this.#r)?[e,x()]:[e]}#o(e){const r=new t(e.items,this.#e).process();return o.factory.createTypeReferenceNode("Array",[o.factory.createUnionTypeNode(r)])}#t({additionalProperties:e}){let r;if(typeof e!="boolean"){const a=new t(e,this.#e).process();r=o.factory.createUnionTypeNode(a)}else r=o.factory.createKeywordTypeNode(o.SyntaxKind.UnknownKeyword);return o.factory.createTypeReferenceNode("Record",[o.factory.createKeywordTypeNode(o.SyntaxKind.StringKeyword),r])}#n(e){const{imports:r,paths:a}=this.#e,d=s(e),c=a.createRelativePath(i(e)),y=r.default.getIdentifier(c)??r.default.add(c,d,!0);return o.factory.createTypeReferenceNode(y)}}export{t as default};
//# sourceMappingURL=TypeSchemaProcessor.js.map
