import{Fragment as f,jsx as e,jsxs as l}from"react/jsx-runtime";import{Button as C}from"@hilla/react-components/Button.js";import{GridColumn as g}from"@hilla/react-components/GridColumn.js";import{HorizontalLayout as p}from"@hilla/react-components/HorizontalLayout.js";import{VerticalLayout as h}from"@hilla/react-components/VerticalLayout.js";import{useState as c}from"react";import{AutoCrudContext as v}from"./autocrud-context.js";import I from"./autocrud-delete.js";import{defaultItem as A,ExperimentalAutoForm as T}from"./autoform.js";import{AutoGrid as G}from"./autogrid.js";import{getProperties as S}from"./property-info.js";function H({service:i,model:m,noDelete:y,header:n}){const[a,o]=c(void 0),[d,u]=c(0),s=[];return y||s.push(e(g,{autoWidth:!0,renderer:I},"deletebutton")),e(f,{children:e(v.Provider,{value:{service:i,properties:S(m),refreshGrid:()=>u(d+1)},children:l(h,{style:{flex:1},children:[l(p,{style:{width:"100%",justifyContent:n?"space-between":"end",paddingLeft:"var(--lumo-space-m)",paddingRight:"var(--lumo-space-m)",paddingBottom:"var(--lumo-space-s)",paddingTop:"var(--lumo-space-s)",alignItems:"center"},children:[n?e("h2",{style:{fontSize:"var(--lumo-font-size-l)"},children:n}):e(f,{}),e(C,{theme:"primary",onClick:()=>o(A),children:"+ New"})]}),l(p,{style:{width:"100%"},children:[e(G,{refreshTrigger:d,service:i,model:m,onActiveItemChanged:t=>{const r=t.detail.value;t.target.selectedItems=r?[r]:[]},onSelectedItemsChanged:t=>{if(t.detail.value.length===0)o(void 0);else{const r=t.detail.value[0];o({...r})}},customColumns:s}),e(T,{disabled:!a,service:i,model:m,item:a,afterSubmit:({item:t})=>{o(t),u(d+1)}})]})]})})})}export{H as ExperimentalAutoCrud};
//# sourceMappingURL=autocrud.js.map
