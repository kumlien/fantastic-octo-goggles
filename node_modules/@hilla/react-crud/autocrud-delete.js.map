{
  "version": 3,
  "sources": ["src/autocrud-delete.tsx"],
  "sourcesContent": ["import { Button } from '@hilla/react-components/Button.js';\n\nimport { ConfirmDialog } from '@hilla/react-components/ConfirmDialog.js';\nimport { useContext, useState, type JSX } from 'react';\nimport { AutoCrudContext } from './autocrud-context';\nimport { getIdProperty } from './property-info';\n\ntype GridBodyReactRendererProps<TItem> = {\n  item: TItem;\n};\n\nexport default function DeleteButton({ item }: GridBodyReactRendererProps<any>): JSX.Element {\n  const context = useContext(AutoCrudContext)!;\n  const [opened, setOpened] = useState(false);\n\n  async function deleteItem(): Promise<void> {\n    const idProperty = getIdProperty(context.properties)!;\n    // eslint-disable-next-line\n    const id = item[idProperty.name];\n    await context.service.delete(id);\n    context.refreshGrid();\n  }\n\n  return (\n    <>\n      <Button theme=\"tertiary\" onClick={() => setOpened(true)}>\n        Delete\n      </Button>\n      <ConfirmDialog\n        opened={opened}\n        header=\"Delete item\"\n        confirmTheme=\"error\"\n        // eslint-disable-next-line\n        onConfirm={async () => {\n          await deleteItem();\n          setOpened(false);\n        }}\n        cancelButtonVisible\n        onCancel={() => setOpened(false)}\n      >\n        Are you sure you want to delete the selected item?\n      </ConfirmDialog>\n    </>\n  );\n}\n"],
  "mappings": "AAwBI,mBAAAA,EACE,OAAAC,EADF,QAAAC,MAAA,oBAxBJ,OAAS,UAAAC,MAAc,oCAEvB,OAAS,iBAAAC,MAAqB,2CAC9B,OAAS,cAAAC,EAAY,YAAAC,MAA0B,QAC/C,OAAS,mBAAAC,MAAuB,qBAChC,OAAS,iBAAAC,MAAqB,kBAMf,SAARC,EAA8B,CAAE,KAAAC,CAAK,EAAiD,CAC3F,MAAMC,EAAUN,EAAWE,CAAe,EACpC,CAACK,EAAQC,CAAS,EAAIP,EAAS,EAAK,EAE1C,eAAeQ,GAA4B,CACzC,MAAMC,EAAaP,EAAcG,EAAQ,UAAU,EAE7CK,EAAKN,EAAKK,EAAW,IAAI,EAC/B,MAAMJ,EAAQ,QAAQ,OAAOK,CAAE,EAC/BL,EAAQ,YAAY,CACtB,CAEA,OACET,EAAAF,EAAA,CACE,UAAAC,EAACE,EAAA,CAAO,MAAM,WAAW,QAAS,IAAMU,EAAU,EAAI,EAAG,kBAEzD,EACAZ,EAACG,EAAA,CACC,OAAQQ,EACR,OAAO,cACP,aAAa,QAEb,UAAW,SAAY,CACrB,MAAME,EAAW,EACjBD,EAAU,EAAK,CACjB,EACA,oBAAmB,GACnB,SAAU,IAAMA,EAAU,EAAK,EAChC,8DAED,GACF,CAEJ",
  "names": ["Fragment", "jsx", "jsxs", "Button", "ConfirmDialog", "useContext", "useState", "AutoCrudContext", "getIdProperty", "DeleteButton", "item", "context", "opened", "setOpened", "deleteItem", "idProperty", "id"]
}
