import{Fragment as p,jsx as l,jsxs as d}from"react/jsx-runtime";import{DatePicker as x,DatePickerElement as R}from"@hilla/react-components/DatePicker.js";import{Item as u}from"@hilla/react-components/Item.js";import{ListBox as I}from"@hilla/react-components/ListBox.js";import{NumberField as y}from"@hilla/react-components/NumberField.js";import{Select as g}from"@hilla/react-components/Select.js";import{TextField as N}from"@hilla/react-components/TextField.js";import{TimePicker as A}from"@hilla/react-components/TimePicker.js";import{useContext as V,useEffect as b,useRef as f,useState as s}from"react";import{ColumnContext as H}from"./autogrid-column-context.js";import{DateFormatter as L}from"./date-formatter";import{defaultLocale as M}from"./i18n.js";import i from"./types/dev/hilla/crud/filter/PropertyStringFilter/Matcher.js";const c=document.createElement("style");c.id="autoGridFilterWithLessGreaterEquals",c.textContent=`
.${c.id} {
  --vaadin-field-default-width: 2em;
  margin-right: 3px;
}
.${c.id} > vaadin-select-value-button {
  --_lumo-text-field-overflow-mask-image: none !important;
}

.${c.id}::part(toggle-button) {
  display: none;
}`,document.head.appendChild(c);const C=new L(M),G={...new R().i18n,formatDate:e=>C.format(e),parseDate:e=>C.parse(e)??void 0};function m(e){const t=V(H),[a,n]=s(e),[o,r]=s("");function T(F,v){r(v),n(F);const S={propertyId:t.propertyInfo.name,filterValue:v,matcher:F};S.t="propertyString",t.setPropertyFilter(S)}return{matcher:a,filterValue:o,updateFilter:T}}function h(e){b(()=>{setTimeout(()=>{e.current&&e.current.requestContentUpdate()},1)},[])}function E({onMatcherChanged:e,value:t}){const a=f(null);return h(a),l(g,{ref:a,value:t,onValueChanged:({detail:n})=>{e(n.value)},renderer:()=>d(I,{children:[l(u,{value:i.GREATER_THAN,label:">",children:"> Greater than"}),l(u,{value:i.LESS_THAN,label:"<",children:"< Less than"}),l(u,{value:i.EQUALS,label:"=",children:"= Equals"})]}),className:c.id})}function Y(){const{updateFilter:e}=m(i.CONTAINS);return l(N,{placeholder:"Filter...",onInput:t=>{const a=t.target.value;e(i.CONTAINS,a)}})}function j(){const{matcher:e,filterValue:t,updateFilter:a}=m(i.GREATER_THAN),n=f(null);return h(n),d(p,{children:[l(E,{value:e,onMatcherChanged:o=>a(o,t)}),l(y,{placeholder:"Filter...",onInput:o=>{const r=o.target.value;a(e,r)}})]})}function z(){const{filterValue:e,updateFilter:t}=m(i.EQUALS),a=f(null);return h(a),l(g,{ref:a,onValueChanged:n=>{const o=n.detail.value;t(i.EQUALS,o)},renderer:()=>d(I,{children:[l(u,{value:"",label:""}),l(u,{value:"True",label:"Yes",children:"Yes"}),l(u,{value:"False",label:"No",children:"No"})]}),value:e})}function J(){const{matcher:e,filterValue:t,updateFilter:a}=m(i.GREATER_THAN),[n,o]=s(!1);return d(p,{children:[l(E,{value:e,onMatcherChanged:r=>a(r,t)}),l(x,{value:t,placeholder:"Filter...",i18n:G,onInvalidChanged:({detail:{value:r}})=>{o(r)},onValueChanged:({detail:{value:r}})=>{n||r===t||a(e,r)}})]})}function K(){const{matcher:e,filterValue:t,updateFilter:a}=m(i.GREATER_THAN),[n,o]=s(!1);return d(p,{children:[l(E,{value:e,onMatcherChanged:r=>a(r,t)}),l(A,{value:t,placeholder:"Filter...",onInvalidChanged:({detail:{value:r}})=>{o(r)},onValueChanged:({detail:{value:r}})=>{n||r===t||a(e,r)}})]})}function X(){return l(p,{})}export{z as BooleanHeaderFilter,J as DateHeaderFilter,X as NoHeaderFilter,j as NumberHeaderFilter,Y as StringHeaderFilter,K as TimeHeaderFilter};
//# sourceMappingURL=header-filter.js.map
